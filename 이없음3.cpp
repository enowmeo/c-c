#include <stdio.h>
#include <conio.h>
#include <windows.h>
void gotoxy(int x,int y);
int main()
{
    int c,a=3,b=1,ba[25][39]=
    {
        1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
        1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
    };
    int d,e,f,g=1,l=0;
    for(d=0;d<=24;d++)
    {
        for(e=0;e<=38;e++)
        {
            if(ba[d][e]==1)
            {
                printf(" @");
            }
            if(ba[d][e]==0)
            {
                printf("  ");
            }
        }
        printf("\n");
    }
    gotoxy(a,b);printf("進"); 
    while(g)
    {
        if (getch()==224)
        {
                switch(getch())
                {
                    case 72 :
                    
                    if(ba[b][a/2]==0)
                    {
                        b--; 
                        gotoxy(a,b);printf("進");
                        gotoxy(a,b+1);
                        printf("  ");     
                    }
                    if(ba[b][a/2]==1)
                    {
                        
                        gotoxy(a,b);printf("@ ");
                       // gotoxy(a,b+1);printf("進"); 
                        b++;
                        gotoxy(a,b);printf("進");    
                    }            
                 //   if(ba[b][a/2]==1)gotoxy(a,b);printf(" @");
                    break;
                    case 75 :
                    if(ba[b][a/2]==0)
                    { 
                        a-=2;
                        gotoxy(a,b);printf("進");
                        gotoxy(a+2,b);
                        if(ba[b][a/2]==0)printf("  ");
                    }
                    if(ba[b][a/2]==1)
                    {
                        gotoxy(a,b);printf("@ ");
                        a=a+2;
                        gotoxy(a,b);printf("進"); 
                    }
                    //   if(ba[b][a/2]==1)gotoxy(a-2,b); printf("進"); 
                       break;
                       case 77 : 
                       if(ba[b][a/2]==0)
                       {
                            a+=2;
                            gotoxy(a,b);printf("進");
                            gotoxy(a-2,b);
                            if(ba[b][a/2]==0)printf("  ");
                        }
                        if(ba[b][a/2]==1)
                        {
                            gotoxy(a,b);printf("@ ");
                            a-=2;
                            gotoxy(a,b);printf("進"); 
                        }
                     //  if(ba[b][a/2]==1)gotoxy(a+2,b); printf("進"); 
                       break;
                       case 80 : 
                       if(ba[b][a/2]==0)
                       {
                            b++;
                            gotoxy(a,b);printf("進");  
                            gotoxy(a,b-1);
                            if(ba[b][a/2]==0)printf("  ");
                        }
                        if(ba[b][a/2]==1)
                        {
                            gotoxy(a,b);printf("@ ");
                            b--;
                            gotoxy(a,b);printf("進"); 
                        }
                      // if(ba[b][a/2]==1)gotoxy(a,b+1); printf("進"); 
                       break;
                }
        }
    }
     return 0;
}
void gotoxy(int x,int y)
{
    COORD Cur;
    Cur.X=x;
    Cur.Y=y;
    SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE),Cur);
    
}
